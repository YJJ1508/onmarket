<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Data</title>
</head>

<body>
    <h1>Product Data</h1>
    <div id="product-list"></div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // 서버로부터 데이터를 가져오는 함수
            function fetchData() {
                $.ajax({
                    url: '/data.html', // 서버의 엔드포인트
                    method: 'GET',
                    dataType: 'json', // 서버가 전송하는 데이터 형식
                    success: function (data) {
                        // 가져온 데이터를 화면에 출력
                        displayData(data);
                    },
                    error: function (xhr, status, error) {
                        console.error('Error fetching data:', error);
                    }
                });
            }

            // 데이터를 화면에 출력하는 함수
            function displayData(data) {
                var productList = $('#product-list');
                productList.empty(); // 이전에 표시된 데이터 삭제

                // 각 상품에 대한 정보를 동적으로 생성하여 화면에 추가
                data.forEach(function (product) {
                    var productItem = $('<div></div>').addClass('product-item');
                    var title = $('<h2></h2>').text(product.title);
                    var price = $('<p></p>').text('Price: ' + product.price);
                    var description = $('<p></p>').text('Description: ' + product.description);

                    productItem.append(title, price, description);
                    productList.append(productItem);
                });
            }

            // 페이지 로드 시 데이터를 가져오기
            fetchData();
        });
    </script>
</body>

</html>
